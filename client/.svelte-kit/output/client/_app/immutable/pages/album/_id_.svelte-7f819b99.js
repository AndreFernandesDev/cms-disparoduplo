import{X as be,S as ae,i as le,s as ne,e as C,w as B,k as S,c as A,a as U,x as M,m as D,d as g,b as p,g as w,y as z,I,q as h,o as b,B as N,V as j,O as ee,W as _e,n as y,p as J,T as ve,t as W,h as X,E as fe,l as F,R as ke,U as oe,v as we}from"../../chunks/index-b998ea59.js";import{f as Ie,q as Ee,Q as Ce,a as ue}from"../../chunks/albums-8cf2b840.js";import{B as te,i as Ae,H as Se}from"../../chunks/Heading-40fa49e7.js";import{I as Z}from"../../chunks/Input-c3f821ce.js";import"../../chunks/index-fe7b1805.js";const De=()=>{const a=be("__svelte__");return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:a.navigating.subscribe}},session:a.session,updated:a.updated}},qe={subscribe(a){return De().page.subscribe(a)}};function ce(a){let t,l,e,n,r;return l=new te({props:{onClick:a[4],$$slots:{default:[Be]},$$scope:{ctx:a}}}),n=new te({props:{type:"Delete",$$slots:{default:[Me]},$$scope:{ctx:a}}}),{c(){t=C("div"),B(l.$$.fragment),e=S(),B(n.$$.fragment),this.h()},l(u){t=A(u,"DIV",{class:!0});var i=U(t);M(l.$$.fragment,i),e=D(i),M(n.$$.fragment,i),i.forEach(g),this.h()},h(){p(t,"class","absolute bottom-0 right-0")},m(u,i){w(u,t,i),z(l,t,null),I(t,e),z(n,t,null),r=!0},p(u,i){const f={};i&64&&(f.$$scope={dirty:i,ctx:u}),l.$set(f);const c={};i&64&&(c.$$scope={dirty:i,ctx:u}),n.$set(c)},i(u){r||(h(l.$$.fragment,u),h(n.$$.fragment,u),r=!0)},o(u){b(l.$$.fragment,u),b(n.$$.fragment,u),r=!1},d(u){u&&g(t),N(l),N(n)}}}function Be(a){let t;return{c(){t=W("Tornar Principal")},l(l){t=X(l,"Tornar Principal")},m(l,e){w(l,t,e)},d(l){l&&g(t)}}}function Me(a){let t;return{c(){t=W("Apagar")},l(l){t=X(l,"Apagar")},m(l,e){w(l,t,e)},d(l){l&&g(t)}}}function ze(a){let t,l,e,n,r,u,i,f,c=!a[2]&&ce(a);return{c(){t=C("div"),l=C("label"),e=C("img"),r=S(),c&&c.c(),this.h()},l(s){t=A(s,"DIV",{class:!0});var o=U(t);l=A(o,"LABEL",{for:!0,class:!0});var k=U(l);e=A(k,"IMG",{for:!0,src:!0,alt:!0,class:!0}),k.forEach(g),r=D(o),c&&c.l(o),o.forEach(g),this.h()},h(){p(e,"for","my-modal"),j(e.src,n=a[0])||p(e,"src",n),p(e,"alt",a[1]),p(e,"class","modal-button w-full h-full object-cover rounded-md"),p(l,"for","fullImg"),p(l,"class","modal-button w-full h-full p-0 border-0"),p(t,"class","relative rounded-xl w-1/3 h-96 drop-shadow-2xl")},m(s,o){w(s,t,o),I(t,l),I(l,e),I(t,r),c&&c.m(t,null),u=!0,i||(f=[ee(e,"click",a[5]),ee(l,"click",function(){_e(a[3])&&a[3].apply(this,arguments)})],i=!0)},p(s,[o]){a=s,(!u||o&1&&!j(e.src,n=a[0]))&&p(e,"src",n),(!u||o&2)&&p(e,"alt",a[1]),a[2]?c&&(y(),b(c,1,1,()=>{c=null}),J()):c?(c.p(a,o),o&4&&h(c,1)):(c=ce(a),c.c(),h(c,1),c.m(t,null))},i(s){u||(h(c),u=!0)},o(s){b(c),u=!1},d(s){s&&g(t),c&&c.d(),i=!1,ve(f)}}}function Ne(a,t,l){let{path:e}=t,{name:n}=t,{featured:r}=t,{onClick:u}=t;const i=()=>{},f=()=>{};return a.$$set=c=>{"path"in c&&l(0,e=c.path),"name"in c&&l(1,n=c.name),"featured"in c&&l(2,r=c.featured),"onClick"in c&&l(3,u=c.onClick)},[e,n,r,u,i,f]}class $e extends ae{constructor(t){super(),le(this,t,Ne,ze,ne,{path:0,name:1,featured:2,onClick:3})}}function Pe(a){let t,l,e,n,r,u;return{c(){t=C("input"),l=S(),e=C("label"),n=C("div"),r=C("img"),this.h()},l(i){t=A(i,"INPUT",{type:!0,id:!0,class:!0}),l=D(i),e=A(i,"LABEL",{for:!0,class:!0});var f=U(e);n=A(f,"DIV",{class:!0});var c=U(n);r=A(c,"IMG",{for:!0,src:!0,alt:!0,class:!0}),c.forEach(g),f.forEach(g),this.h()},h(){p(t,"type","checkbox"),p(t,"id","fullImg"),p(t,"class","modal-toggle"),p(r,"for","my-modal"),j(r.src,u=a[0])||p(r,"src",u),p(r,"alt",a[1]),p(r,"class","modal-button w-full h-full object-cover rounded-md"),p(n,"class","modal-box p-0 w-11/12 max-w-5xl h-screen"),p(e,"for","fullImg"),p(e,"class","modal cursor-pointer")},m(i,f){w(i,t,f),w(i,l,f),w(i,e,f),I(e,n),I(n,r)},p(i,[f]){f&1&&!j(r.src,u=i[0])&&p(r,"src",u),f&2&&p(r,"alt",i[1])},i:fe,o:fe,d(i){i&&g(t),i&&g(l),i&&g(e)}}}function Te(a,t,l){let{path:e}=t,{name:n}=t;return a.$$set=r=>{"path"in r&&l(0,e=r.path),"name"in r&&l(1,n=r.name)},[e,n]}class Ue extends ae{constructor(t){super(),le(this,t,Te,Pe,ne,{path:0,name:1})}}function me(a,t,l){const e=a.slice();return e[12]=t[l],e}function pe(a){let t,l,e,n,r,u,i,f,c,s,o,k,E,$,d,L,P,G,V,K,Y,O,H,x,se;t=new te({props:{type:"Popup",display:a[1],onClick:a[4],$$slots:{default:[Ve]},$$scope:{ctx:a}}}),r=new Se({props:{type:"h1",$$slots:{default:[Le]},$$scope:{ctx:a}}}),o=new Z({props:{value:String(a[0].name),type:"text",name:"name",placeholder:"Alexandre & Jessica..."}}),E=new Z({props:{value:String(a[0].description),type:"textarea",name:"description",placeholder:"Sobre o evento..."}}),d=new Z({props:{value:a[0].location,type:"text",name:"location",placeholder:"Madeira..."}}),P=new Z({props:{value:a[0].date,type:"date",name:"date",placeholder:"Dia do evento..."}});let v=a[0].media&&a[0].media.length&&ge(a);return{c(){B(t.$$.fragment),l=S(),e=C("section"),n=C("div"),B(r.$$.fragment),u=S(),i=C("p"),f=W('Apos atualizar album, clique em "Atualizar".'),c=S(),s=C("form"),B(o.$$.fragment),k=S(),B(E.$$.fragment),$=S(),B(d.$$.fragment),L=S(),B(P.$$.fragment),G=S(),V=C("img"),Y=S(),O=C("section"),v&&v.c(),this.h()},l(m){M(t.$$.fragment,m),l=D(m),e=A(m,"SECTION",{class:!0});var _=U(e);n=A(_,"DIV",{class:!0});var T=U(n);M(r.$$.fragment,T),u=D(T),i=A(T,"P",{class:!0});var Q=U(i);f=X(Q,'Apos atualizar album, clique em "Atualizar".'),Q.forEach(g),c=D(T),s=A(T,"FORM",{});var q=U(s);M(o.$$.fragment,q),k=D(q),M(E.$$.fragment,q),$=D(q),M(d.$$.fragment,q),L=D(q),M(P.$$.fragment,q),q.forEach(g),T.forEach(g),G=D(_),V=A(_,"IMG",{src:!0,alt:!0,class:!0}),_.forEach(g),Y=D(m),O=A(m,"SECTION",{class:!0});var R=U(O);v&&v.l(R),R.forEach(g),this.h()},h(){p(i,"class","my-2"),p(n,"class","flex flex-col w-2/5 pr-12"),j(V.src,K=a[0].featured.path)||p(V,"src",K),p(V,"alt",""),p(V,"class","w-3/5 h-96 object-cover rounded-md"),p(e,"class","flex flex-wrap items-stretch w-full my-12"),p(O,"class","flex w-full gap-8")},m(m,_){z(t,m,_),w(m,l,_),w(m,e,_),I(e,n),z(r,n,null),I(n,u),I(n,i),I(i,f),I(n,c),I(n,s),z(o,s,null),I(s,k),z(E,s,null),I(s,$),z(d,s,null),I(s,L),z(P,s,null),I(e,G),I(e,V),w(m,Y,_),w(m,O,_),v&&v.m(O,null),H=!0,x||(se=ee(s,"change",function(){_e(a[3])&&a[3].apply(this,arguments)}),x=!0)},p(m,_){a=m;const T={};_&2&&(T.display=a[1]),_&32768&&(T.$$scope={dirty:_,ctx:a}),t.$set(T);const Q={};_&32768&&(Q.$$scope={dirty:_,ctx:a}),r.$set(Q);const q={};_&1&&(q.value=String(a[0].name)),o.$set(q);const R={};_&1&&(R.value=String(a[0].description)),E.$set(R);const re={};_&1&&(re.value=a[0].location),d.$set(re);const ie={};_&1&&(ie.value=a[0].date),P.$set(ie),(!H||_&1&&!j(V.src,K=a[0].featured.path))&&p(V,"src",K),a[0].media&&a[0].media.length?v?(v.p(a,_),_&1&&h(v,1)):(v=ge(a),v.c(),h(v,1),v.m(O,null)):v&&(y(),b(v,1,1,()=>{v=null}),J())},i(m){H||(h(t.$$.fragment,m),h(r.$$.fragment,m),h(o.$$.fragment,m),h(E.$$.fragment,m),h(d.$$.fragment,m),h(P.$$.fragment,m),h(v),H=!0)},o(m){b(t.$$.fragment,m),b(r.$$.fragment,m),b(o.$$.fragment,m),b(E.$$.fragment,m),b(d.$$.fragment,m),b(P.$$.fragment,m),b(v),H=!1},d(m){N(t,m),m&&g(l),m&&g(e),N(r),N(o),N(E),N(d),N(P),m&&g(Y),m&&g(O),v&&v.d(),x=!1,se()}}}function Ve(a){let t;return{c(){t=W("Atualizar")},l(l){t=X(l,"Atualizar")},m(l,e){w(l,t,e)},d(l){l&&g(t)}}}function Le(a){let t;return{c(){t=W("Definicoes")},l(l){t=X(l,"Definicoes")},m(l,e){w(l,t,e)},d(l){l&&g(t)}}}function ge(a){let t,l,e,n,r,u;t=new Ue({props:{path:a[2].path,name:a[2].name}}),e=new $e({props:{onClick:a[7],featured:!0,path:a[0].featured.path,name:a[0].featured.name}});let i=a[0].media,f=[];for(let s=0;s<i.length;s+=1)f[s]=he(me(a,i,s));const c=s=>b(f[s],1,1,()=>{f[s]=null});return{c(){B(t.$$.fragment),l=S(),B(e.$$.fragment),n=S();for(let s=0;s<f.length;s+=1)f[s].c();r=F()},l(s){M(t.$$.fragment,s),l=D(s),M(e.$$.fragment,s),n=D(s);for(let o=0;o<f.length;o+=1)f[o].l(s);r=F()},m(s,o){z(t,s,o),w(s,l,o),z(e,s,o),w(s,n,o);for(let k=0;k<f.length;k+=1)f[k].m(s,o);w(s,r,o),u=!0},p(s,o){const k={};o&4&&(k.path=s[2].path),o&4&&(k.name=s[2].name),t.$set(k);const E={};if(o&1&&(E.onClick=s[7]),o&1&&(E.path=s[0].featured.path),o&1&&(E.name=s[0].featured.name),e.$set(E),o&33){i=s[0].media;let $;for($=0;$<i.length;$+=1){const d=me(s,i,$);f[$]?(f[$].p(d,o),h(f[$],1)):(f[$]=he(d),f[$].c(),h(f[$],1),f[$].m(r.parentNode,r))}for(y(),$=i.length;$<f.length;$+=1)c($);J()}},i(s){if(!u){h(t.$$.fragment,s),h(e.$$.fragment,s);for(let o=0;o<i.length;o+=1)h(f[o]);u=!0}},o(s){b(t.$$.fragment,s),b(e.$$.fragment,s),f=f.filter(Boolean);for(let o=0;o<f.length;o+=1)b(f[o]);u=!1},d(s){N(t,s),s&&g(l),N(e,s),s&&g(n),ke(f,s),s&&g(r)}}}function de(a){let t,l;function e(){return a[8](a[12])}return t=new $e({props:{onClick:e,featured:!1,path:a[12].path,name:a[12].name}}),{c(){B(t.$$.fragment)},l(n){M(t.$$.fragment,n)},m(n,r){z(t,n,r),l=!0},p(n,r){a=n;const u={};r&1&&(u.onClick=e),r&1&&(u.path=a[12].path),r&1&&(u.name=a[12].name),t.$set(u)},i(n){l||(h(t.$$.fragment,n),l=!0)},o(n){b(t.$$.fragment,n),l=!1},d(n){N(t,n)}}}function he(a){let t,l,e=a[12].featured===!1&&de(a);return{c(){e&&e.c(),t=F()},l(n){e&&e.l(n),t=F()},m(n,r){e&&e.m(n,r),w(n,t,r),l=!0},p(n,r){n[12].featured===!1?e?(e.p(n,r),r&1&&h(e,1)):(e=de(n),e.c(),h(e,1),e.m(t.parentNode,t)):e&&(y(),b(e,1,1,()=>{e=null}),J())},i(n){l||(h(e),l=!0)},o(n){b(e),l=!1},d(n){e&&e.d(n),n&&g(t)}}}function Oe(a){let t,l,e=a[0]&&pe(a);return{c(){e&&e.c(),t=F()},l(n){e&&e.l(n),t=F()},m(n,r){e&&e.m(n,r),w(n,t,r),l=!0},p(n,[r]){n[0]?e?(e.p(n,r),r&1&&h(e,1)):(e=pe(n),e.c(),h(e,1),e.m(t.parentNode,t)):e&&(y(),b(e,1,1,()=>{e=null}),J())},i(n){l||(h(e),l=!0)},o(n){b(e),l=!1},d(n){e&&e.d(n),n&&g(t)}}}function je(a,t,l){let e,n,r;oe(a,ue,d=>l(9,n=d)),oe(a,qe,d=>l(10,r=d));const u=r.params.id;let i=!1,f={},c={},s={name:"",description:"",location:"",date:0,featured:{path:""},media:[{path:"",name:""}]};we(async()=>{if(!n.length){const d=await Ie(Ee(Ce.all),{});ue.set(d.data.albums)}l(0,s=n.filter(d=>d.id===u)[0]),l(6,f={...s})});const o=()=>{console.log(s)},k=(d,L)=>{l(2,c={path:d,name:L})},E=()=>k(s.featured.path,s.featured.name),$=d=>k(d.path,d.name);return a.$$.update=()=>{a.$$.dirty&65&&l(3,e=d=>{const L=d.target,P=String(L.name),G=L.value;l(0,s[P]=G,s),Ae(s,f)?l(1,i=!1):l(1,i=!0)})},[s,i,c,e,o,k,f,E,$]}class ye extends ae{constructor(t){super(),le(this,t,je,Oe,ne,{})}}export{ye as default};
