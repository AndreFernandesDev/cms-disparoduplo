"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mutation = void 0;
// locals
const lib_1 = require("../lib");
function mutation(document) {
    // make sure we got a query document
    if (document.kind !== 'HoudiniMutation') {
        throw new Error('mutation() must be passed a mutation document');
    }
    const context = (0, lib_1.getHoudiniContext)();
    return async (variables, mutationConfig) => {
        const { data } = await document.store.mutate({
            variables,
            ...mutationConfig,
            context,
        });
        return data;
    };
}
exports.mutation = mutation;
