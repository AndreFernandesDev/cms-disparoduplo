"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.computeID = exports.keyFieldsForType = exports.defaultConfigValues = void 0;
function defaultConfigValues(file) {
    return {
        defaultKeys: ['id'],
        ...file,
        types: {
            Node: {
                keys: ['id'],
                resolve: {
                    queryField: 'node',
                    arguments: (node) => ({ id: node.id }),
                },
            },
            ...file.types,
        },
    };
}
exports.defaultConfigValues = defaultConfigValues;
function keyFieldsForType(configFile, type) {
    return configFile.types?.[type]?.keys || configFile.defaultKeys;
}
exports.keyFieldsForType = keyFieldsForType;
function computeID(configFile, type, data) {
    const fields = keyFieldsForType(configFile, type);
    let id = '';
    for (const field of fields) {
        id += data[field] + '__';
    }
    return id.slice(0, -2);
}
exports.computeID = computeID;
